import{_ as H,N as R}from"./Bhsw-x0m.js";import{_ as P}from"./PvBQwtoI.js";import{i as A,n as G,j as B,k as Q,l as U,m as L,p as z,q as J,s as D,x as _,y as b,z as K,A as X,B as C,c as v,o as p,a as m,b as S,t as k,F as W,f as I,C as F,D as Z,d as T}from"./DXXzjqMB.js";function q(e){return Q()?(U(e),!0):!1}const V=new WeakMap,ee=(...e)=>{var t;const s=e[0],u=(t=L())==null?void 0:t.proxy;if(u==null&&!z())throw new Error("injectLocal must be called in setup");return u&&V.has(u)&&s in V.get(u)?V.get(u)[s]:J(...e)},te=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ne=Object.prototype.toString,se=e=>ne.call(e)==="[object Object]";function Y(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function E(e){return Array.isArray(e)?e:[e]}function ae(e){return L()}function re(e,t=!0,s){ae()?A(e,s):t?e():G(e)}function oe(e,t,s){return B(e,t,{...s,immediate:!0})}const O=te?window:void 0;function le(e){var t;const s=b(e);return(t=s==null?void 0:s.$el)!=null?t:s}function $(...e){const t=[],s=()=>{t.forEach(a=>a()),t.length=0},u=(a,r,l,c)=>(a.addEventListener(r,l,c),()=>a.removeEventListener(r,l,c)),i=_(()=>{const a=E(b(e[0])).filter(r=>r!=null);return a.every(r=>typeof r!="string")?a:void 0}),o=oe(()=>{var a,r;return[(r=(a=i.value)==null?void 0:a.map(l=>le(l)))!=null?r:[O].filter(l=>l!=null),E(b(i.value?e[1]:e[0])),E(X(i.value?e[2]:e[1])),b(i.value?e[3]:e[2])]},([a,r,l,c])=>{if(s(),!(a!=null&&a.length)||!(r!=null&&r.length)||!(l!=null&&l.length))return;const g=se(c)?{...c}:c;t.push(...a.flatMap(h=>r.flatMap(f=>l.map(d=>u(h,f,d,g)))))},{flush:"post"}),n=()=>{o(),s()};return q(s),n}function ue(){const e=D(!1),t=L();return t&&A(()=>{e.value=!0},t),e}function ie(e){const t=ue();return _(()=>(t.value,!!e()))}const ce=Symbol("vueuse-ssr-width");function de(){const e=z()?ee(ce,null):null;return typeof e=="number"?e:void 0}function he(e,t={}){const{window:s=O,ssrWidth:u=de()}=t,i=ie(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function"),o=D(typeof u=="number"),n=D(),a=D(!1),r=l=>{a.value=l.matches};return K(()=>{if(o.value){o.value=!i.value;const l=b(e).split(",");a.value=l.some(c=>{const g=c.includes("not all"),h=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),f=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let d=!!(h||f);return h&&d&&(d=u>=Y(h[1])),f&&d&&(d=u<=Y(f[1])),g?!d:d});return}i.value&&(n.value=s.matchMedia(b(e)),a.value=n.value.matches)}),$(n,"change",r,{passive:!0}),_(()=>a.value)}function fe(e={}){const{window:t=O,initialWidth:s=Number.POSITIVE_INFINITY,initialHeight:u=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:o=!0,type:n="inner"}=e,a=D(s),r=D(u),l=()=>{if(t)if(n==="outer")a.value=t.outerWidth,r.value=t.outerHeight;else if(n==="visual"&&t.visualViewport){const{width:g,height:h,scale:f}=t.visualViewport;a.value=Math.round(g*f),r.value=Math.round(h*f)}else o?(a.value=t.innerWidth,r.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,r.value=t.document.documentElement.clientHeight)};l(),re(l);const c={passive:!0};if($("resize",l,c),t&&n==="visual"&&t.visualViewport&&$(t.visualViewport,"resize",l,c),i){const g=he("(orientation: portrait)");B(g,()=>l())}return{width:a,height:r}}function pe(){const{width:e}=fe();return _(()=>e.value<640?"sm":e.value<1024?"md":"lg")}const me={class:"text-center my-6"},ve={class:"flex justify-center items-center gap-4 mb-4"},ge={class:"text-lg font-bold"},ye={class:"w-full max-w-4xl mx-auto bg-white border border-gray-200 rounded shadow"},we={key:0},_e={key:1,class:"w-2 h-2 bg-[#a4c5ca] rounded-full absolute bottom-1 left-1/2 -translate-x-1/2"},xe={__name:"Calendar",props:{races:Array},emits:["updateDate"],setup(e,{emit:t}){const s=pe(),u=_(()=>{switch(s.value){case"sm":return["Κ","Δ","Τ","Τ","Π","Π","Σ"];default:return["Κυρ.","Δευτ","Τρ.","Τετ.","Πεμ.","Παρ.","Σατ."]}}),i=t,o=e,n=C(new Date),a=_(()=>n.value.toLocaleString("el-GR",{month:"long",year:"numeric"})),r=_(()=>{const h=n.value.getFullYear(),f=n.value.getMonth(),d=new Date(h,f,1).getDay(),w=new Date(h,f+1,0).getDate(),x=[];let y=1;for(let M=0;M<6;M++){const j=[];for(let N=0;N<7;N++)M===0&&N<d||y>w?j.push(""):(j.push(y),y++);x.push(j)}return x}),l=h=>{var x;if(!h)return!1;const f=n.value.getFullYear(),d=n.value.getMonth()+1,w=`${f}-${String(d).padStart(2,"0")}-${String(h).padStart(2,"0")}`;return(x=o.races)==null?void 0:x.some(y=>y.Date===w)},c=()=>{n.value.setMonth(n.value.getMonth()-1),n.value=new Date(n.value)},g=()=>{n.value.setMonth(n.value.getMonth()+1),n.value=new Date(n.value)};return B(n,()=>{i("updateDate",n.value)},{immediate:!0}),(h,f)=>{const d=P;return p(),v("div",me,[m("div",ve,[S(d,{title:"◀ Προηγούμενος",onClick:c}),m("span",ge,k(a.value),1),S(d,{title:"Επόμενος ▶",onClick:g})]),m("table",ye,[m("thead",null,[m("tr",null,[(p(!0),v(W,null,I(u.value,w=>(p(),v("th",{key:w,class:"bg-[#0057A0] p-2 text-white"},k(w),1))),128))])]),m("tbody",null,[(p(!0),v(W,null,I(r.value,(w,x)=>(p(),v("tr",{key:x},[(p(!0),v(W,null,I(w,(y,M)=>(p(),v("td",{key:M,class:"h-16 border border-gray-200 text-center relative"},[y?(p(),v("span",we,k(y),1)):F("",!0),l(y)?(p(),v("div",_e)):F("",!0)]))),128))]))),128))])])])}}},De={class:"text-center"},be={key:0},Me={__name:"RaceList",props:{races:{type:Array,default:()=>[]},currentDate:Date},setup(e){const t=e,s={no_races:"Κανένας αγώνας"},u=_(()=>{const i=new Date;return i.setHours(0,0,0,0),t.races.filter(o=>new Date(o.Date)>i).filter(o=>{const n=new Date(o.Date);return n.getFullYear()===t.currentDate.getFullYear()&&n.getMonth()===t.currentDate.getMonth()}).sort((o,n)=>new Date(o.Date)-new Date(n.Date))});return(i,o)=>(p(),v("div",null,[m("ul",De,[u.value.length===0?(p(),v("li",be,k(s.no_races),1)):F("",!0),(p(!0),v(W,null,I(u.value,n=>(p(),Z(H,{key:n.ID,race:n},null,8,["race"]))),128))])]))}},Se={class:"text-3xl text-center text-[#0057A0] my-6"},ke={class:"flex justify-center"},Ne={__name:"index",setup(e){const t=C([]),s=C(new Date),u=i=>{s.value=i};return A(async()=>{const i=await fetch("https://racelist.gr/min.races.json");t.value=await i.json()}),(i,o)=>(p(),v("div",null,[o[0]||(o[0]=m("div",{class:"flex justify-center"},[m("p",{class:"sm:px-48 sm:py-10 p-2 text-center text-lg"},[T(" Το "),m("strong",null,"racelist.gr"),T(" είναι το σημείο συνάντησης για όλους όσους αγαπούν το τρέξιμο! Βρες εύκολα αγώνες δρόμου και trail running σε κάθε γωνιά της Ελλάδας, χρησιμοποίησε εργαλεία που θα σου κάνουν την προπόνηση πιο εύκολη και διάβασε άρθρα γεμάτα έμπνευση και χρήσιμες συμβουλές για δρομείς κάθε επιπέδου. ")])],-1)),m("h1",Se," Ημερολόγιο Αγώνων για το "+k(s.value.getFullYear()),1),S(xe,{races:t.value,onUpdateDate:u},null,8,["races"]),o[1]||(o[1]=m("h2",{class:"text-2xl text-center my-6 text-[#0057A0]"},"Ερχόμενοι αγώνες",-1)),S(Me,{races:t.value,currentDate:s.value},null,8,["races","currentDate"]),o[2]||(o[2]=m("h2",{class:"text-xl text-center my-6 text-text"}," Ενημερωθείτε για νέους αγώνες & άρθρα ",-1)),m("div",ke,[S(R)])]))}};export{Ne as default};
