import{c as i,o,a as n,J as y,t as d,K as $,B as w,x as B,i as L,u as S,b as _,w as A,A as s,C as c,d as p,F as I,f as C,e as E,G as N}from"./DbRaxTsF.js";import{_ as R}from"./iWcQuE90.js";import{f as T}from"./CQ8NpSs7.js";const V={class:"relative"},j={__name:"DistanceBar",props:{distance:{type:Object,required:!0}},setup(u){const x=t=>t<=1?"bg-blue-500":t<=5?"bg-green-500":t<=10?"bg-yellow-500":t<=21.1?"bg-orange-500":t<=42.2?"bg-red-500":"bg-black",m=t=>t<=5?"text-white":t<=10?"text-black":"text-white";return(t,v)=>(o(),i("div",V,[n("div",{class:y(["absolute inset-0 rounded",x(u.distance.value)])},null,2),n("div",{class:y(["relative z-10 px-3 py-2 text-sm font-medium",m(u.distance.value)])},d(u.distance.text),3)]))}},F={class:"max-w-4xl mx-auto px-4 py-8"},P={key:0},z={class:"text-3xl text-center text-[#0057A0] mb-8"},q={class:"bg-[#f4f4f4] border-l-4 border-[#0057A0] p-6 rounded"},G={class:"space-y-4"},H={key:0},J={class:"mt-2"},K={key:1},M={class:"mt-4 space-y-2"},O={key:2,class:"mt-12 text-center"},Y=["href"],Q={key:0,class:"mt-5"},U={key:1,class:"mt-5"},W={key:1,class:"text-center text-lg"},et={__name:"[id]",setup(u){const x=T,m=$(),t=w(null),v=l=>{const e=l.toLowerCase();if(e.includes("marathon")&&!e.includes("half"))return 42.195;if(e.includes("half")||e.includes("ημιμαραθώνιος"))return 21.1;const r=e.match(/(\d+(?:\.\d+)?)/);if(r){const a=parseFloat(r[1]);return a>100?a/1e3:a}return 0},D=B(()=>{var e,r;return(r=(e=t.value)==null?void 0:e.Distances)!=null&&r.length?t.value.Distances.map(a=>({text:a,value:v(a)})).sort((a,f)=>a.value-f.value):[]});return L(async()=>{try{const e=await(await fetch("/min.races.json")).json();t.value=e.find(r=>r.Slug===m.params.id||r.Slug===`${m.params.id}/`)}catch(l){console.error("Error loading race:",l)}}),S(()=>{var l,e;return{title:t.value?`${t.value.Title} | racelist.gr`:"Αγώνας | racelist.gr",link:[(l=t.value)!=null&&l.Slug?{rel:"canonical",href:`https://racelist.gr/agwnas/${t.value.Slug}`}:{}],meta:[{name:"description",content:t.value?`${t.value.Title} στις ${t.value.Date} στην τοποθεσία ${t.value.Location}. ${(e=t.value.Distances)==null?void 0:e.join(", ")}`:"Λεπτομέρειες αγώνα δρόμου"}]}}),(l,e)=>{var g,b,h;const r=E,a=j,f=R;return o(),i("div",F,[_(r,{to:"/",class:"inline-block mb-6 text-[#0057A0] hover:underline"},{default:A(()=>e[0]||(e[0]=[p(" ← Επιστροφή στην αρχική ")])),_:1,__:[0]}),s(t)?(o(),i("div",P,[n("h1",z,d(s(t).Title),1),n("div",q,[n("div",G,[n("div",null,[e[1]||(e[1]=n("span",{class:"font-semibold"},"Ημερομηνία:",-1)),p(" "+d(s(x)(s(t).Date)),1)]),n("div",null,[e[2]||(e[2]=n("span",{class:"font-semibold"},"Τοποθεσία:",-1)),p(" "+d(s(t).Location),1)]),s(t).Description?(o(),i("div",H,[e[3]||(e[3]=n("span",{class:"font-semibold"},"Περιγραφή",-1)),n("p",J,d(s(t).Description),1)])):c("",!0),(g=s(t).Distances)!=null&&g.length?(o(),i("div",K,[e[4]||(e[4]=n("span",{class:"font-semibold text-xl"},"Αποστάσεις",-1)),n("div",M,[(o(!0),i(I,null,C(s(D),k=>(o(),N(a,{key:k.text,distance:k},null,8,["distance"]))),128))])])):c("",!0),s(t).SignupLink?(o(),i("div",O,[n("a",{href:s(t).SignupLink.includes("?")?`${s(t).SignupLink}&utm_source=racelist.gr`:`${s(t).SignupLink}?utm_source=racelist.gr`,class:"inline-block bg-[#0057A0] text-white px-6 py-2 rounded hover:bg-[#0057A0]/90 transition-colors",target:"_blank"}," Εγγραφή στον αγώνα ",8,Y)])):c("",!0)])]),(b=s(t).ExtraInfo)!=null&&b.RacePromoVideoId?(o(),i("div",Q,[e[5]||(e[5]=n("h2",{class:"py-3 text-2xl font-semibold text-[#0057A0] text-center"}," Promo Βίντεο ",-1)),_(f,{"video-id":s(t).ExtraInfo.RacePromoVideoId},null,8,["video-id"])])):c("",!0),(h=s(t).ExtraInfo)!=null&&h.RaceBriefVideoId?(o(),i("div",U,[e[6]||(e[6]=n("h2",{class:"py-3 text-2xl font-semibold text-[#0057A0] text-center"}," Briefing Βίντεο ",-1)),_(f,{"video-id":s(t).ExtraInfo.RaceBriefVideoId},null,8,["video-id"])])):c("",!0)])):(o(),i("div",W,"Ο αγώνας δεν βρέθηκε"))])}}};export{et as default};
