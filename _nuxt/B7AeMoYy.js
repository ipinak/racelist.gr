import{c as l,o as i,a as s,G as b,t as d,H as g,B as y,x as D,i as k,u as $,b as w,w as A,A as o,C as p,d as x,F as B,f as L,e as S,E as N}from"./DQxp4gdD.js";import{f as V}from"./CQ8NpSs7.js";const j={class:"relative"},C={class:"relative z-10 px-3 py-2 text-sm text-white font-medium"},T={__name:"DistanceBar",props:{distance:{type:Object,required:!0}},setup(m){return(v,_)=>(i(),l("div",j,[s("div",{class:"absolute inset-0 bg-[#0057A0] rounded",style:b({width:`${m.distance.barWidth}%`})},null,4),s("div",C,d(m.distance.text),1)]))}},E={class:"max-w-4xl mx-auto px-4 py-8"},F={key:0},M={class:"text-3xl text-center text-[#0057A0] mb-8"},z={class:"bg-[#f4f4f4] border-l-4 border-[#0057A0] p-6 rounded"},H={class:"space-y-4"},W={key:0},q={class:"mt-2"},G={key:1},O={class:"mt-4 space-y-2"},R={key:2,class:"mt-12 text-center"},I=["href"],J={key:1,class:"text-center text-lg"},Q={__name:"[id]",setup(m){const v=V,_=g(),e=y(null),f=n=>{const t=n.toLowerCase();if(t.includes("marathon")&&!t.includes("half"))return 42.195;if(t.includes("half")||t.includes("ημιμαραθώνιος"))return 21.1;const r=t.match(/(\d+(?:\.\d+)?)/);if(r){const c=parseFloat(r[1]);return c>100?c/1e3:c}return 0},h=D(()=>{var r,c;if(!((c=(r=e.value)==null?void 0:r.Distances)!=null&&c.length))return[];const n=e.value.Distances.map(a=>({text:a,value:f(a)})).sort((a,u)=>a.value-u.value),t=Math.max(...n.map(a=>a.value));return n.map(a=>({...a,barWidth:Math.max(10,a.value/t*100)}))});return k(async()=>{try{const t=await(await fetch("/min.races.json")).json();e.value=t.find(r=>r.Slug===_.params.id||r.Slug===`${_.params.id}/`)}catch(n){console.error("Error loading race:",n)}}),$(()=>{var n;return{title:e.value?`${e.value.Title} | racelist.gr`:"Αγώνας | racelist.gr",meta:[{name:"description",content:e.value?`${e.value.Title} στις ${e.value.Date} στην τοποθεσία ${e.value.Location}. ${(n=e.value.Distances)==null?void 0:n.join(", ")}`:"Λεπτομέρειες αγώνα δρόμου"}]}}),(n,t)=>{var a;const r=S,c=T;return i(),l("div",E,[w(r,{to:"/",class:"inline-block mb-6 text-[#0057A0] hover:underline"},{default:A(()=>t[0]||(t[0]=[x(" ← Επιστροφή στην αρχική ")])),_:1,__:[0]}),o(e)?(i(),l("div",F,[s("h1",M,d(o(e).Title),1),s("div",z,[s("div",H,[s("div",null,[t[1]||(t[1]=s("span",{class:"font-semibold"},"Ημερομηνία:",-1)),x(" "+d(o(v)(o(e).Date)),1)]),s("div",null,[t[2]||(t[2]=s("span",{class:"font-semibold"},"Τοποθεσία:",-1)),x(" "+d(o(e).Location),1)]),o(e).Description?(i(),l("div",W,[t[3]||(t[3]=s("span",{class:"font-semibold"},"Περιγραφή",-1)),s("p",q,d(o(e).Description),1)])):p("",!0),(a=o(e).Distances)!=null&&a.length?(i(),l("div",G,[t[4]||(t[4]=s("span",{class:"font-semibold text-xl"},"Αποστάσεις",-1)),s("div",O,[(i(!0),l(B,null,L(o(h),u=>(i(),N(c,{key:u.text,distance:u},null,8,["distance"]))),128))])])):p("",!0),o(e).SignupLink?(i(),l("div",R,[s("a",{href:`${o(e).SignupLink}?utm_source=racelist.gr`,class:"inline-block bg-[#0057A0] text-white px-6 py-2 rounded hover:bg-[#0057A0]/90 transition-colors",target:"_blank"}," Εγγραφή στον αγώνα ",8,I)])):p("",!0)])])])):(i(),l("div",J,"Ο αγώνας δεν βρέθηκε"))])}}};export{Q as default};
