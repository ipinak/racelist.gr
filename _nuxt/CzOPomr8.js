import{c as l,o as i,a as s,J as x,t as c,K as h,B as k,x as D,i as y,u as w,b as $,w as L,A as n,C as _,d as f,F as S,f as B,e as C,G as A}from"./BDypR_uh.js";import{f as N}from"./CQ8NpSs7.js";const T={class:"relative"},j={__name:"DistanceBar",props:{distance:{type:Object,required:!0}},setup(u){const p=t=>t<=1?"bg-blue-500":t<=5?"bg-green-500":t<=10?"bg-yellow-500":t<=21.1?"bg-orange-500":t<=42.2?"bg-red-500":"bg-black",d=t=>t<=5?"text-white":t<=10?"text-black":"text-white";return(t,v)=>(i(),l("div",T,[s("div",{class:x(["absolute inset-0 rounded",p(u.distance.value)])},null,2),s("div",{class:x(["relative z-10 px-3 py-2 text-sm font-medium",d(u.distance.value)])},c(u.distance.text),3)]))}},F={class:"max-w-4xl mx-auto px-4 py-8"},z={key:0},E={class:"text-3xl text-center text-[#0057A0] mb-8"},q={class:"bg-[#f4f4f4] border-l-4 border-[#0057A0] p-6 rounded"},G={class:"space-y-4"},H={key:0},J={class:"mt-2"},K={key:1},M={class:"mt-4 space-y-2"},O={key:2,class:"mt-12 text-center"},R=["href"],I={key:1,class:"text-center text-lg"},U={__name:"[id]",setup(u){const p=N,d=h(),t=k(null),v=o=>{const e=o.toLowerCase();if(e.includes("marathon")&&!e.includes("half"))return 42.195;if(e.includes("half")||e.includes("ημιμαραθώνιος"))return 21.1;const a=e.match(/(\d+(?:\.\d+)?)/);if(a){const r=parseFloat(a[1]);return r>100?r/1e3:r}return 0},b=D(()=>{var e,a;return(a=(e=t.value)==null?void 0:e.Distances)!=null&&a.length?t.value.Distances.map(r=>({text:r,value:v(r)})).sort((r,m)=>r.value-m.value):[]});return y(async()=>{try{const e=await(await fetch("/min.races.json")).json();t.value=e.find(a=>a.Slug===d.params.id||a.Slug===`${d.params.id}/`)}catch(o){console.error("Error loading race:",o)}}),w(()=>{var o,e;return{title:t.value?`${t.value.Title} | racelist.gr`:"Αγώνας | racelist.gr",link:[(o=t.value)!=null&&o.Slug?{rel:"canonical",href:`https://racelist.gr/agwnas/${t.value.Slug}`}:{}],meta:[{name:"description",content:t.value?`${t.value.Title} στις ${t.value.Date} στην τοποθεσία ${t.value.Location}. ${(e=t.value.Distances)==null?void 0:e.join(", ")}`:"Λεπτομέρειες αγώνα δρόμου"}]}}),(o,e)=>{var m;const a=C,r=j;return i(),l("div",F,[$(a,{to:"/",class:"inline-block mb-6 text-[#0057A0] hover:underline"},{default:L(()=>e[0]||(e[0]=[f(" ← Επιστροφή στην αρχική ")])),_:1,__:[0]}),n(t)?(i(),l("div",z,[s("h1",E,c(n(t).Title),1),s("div",q,[s("div",G,[s("div",null,[e[1]||(e[1]=s("span",{class:"font-semibold"},"Ημερομηνία:",-1)),f(" "+c(n(p)(n(t).Date)),1)]),s("div",null,[e[2]||(e[2]=s("span",{class:"font-semibold"},"Τοποθεσία:",-1)),f(" "+c(n(t).Location),1)]),n(t).Description?(i(),l("div",H,[e[3]||(e[3]=s("span",{class:"font-semibold"},"Περιγραφή",-1)),s("p",J,c(n(t).Description),1)])):_("",!0),(m=n(t).Distances)!=null&&m.length?(i(),l("div",K,[e[4]||(e[4]=s("span",{class:"font-semibold text-xl"},"Αποστάσεις",-1)),s("div",M,[(i(!0),l(S,null,B(n(b),g=>(i(),A(r,{key:g.text,distance:g},null,8,["distance"]))),128))])])):_("",!0),n(t).SignupLink?(i(),l("div",O,[s("a",{href:n(t).SignupLink.includes("?")?`${n(t).SignupLink}&utm_source=racelist.gr`:`${n(t).SignupLink}?utm_source=racelist.gr`,class:"inline-block bg-[#0057A0] text-white px-6 py-2 rounded hover:bg-[#0057A0]/90 transition-colors",target:"_blank"}," Εγγραφή στον αγώνα ",8,R)])):_("",!0)])])])):(i(),l("div",I,"Ο αγώνας δεν βρέθηκε"))])}}};export{U as default};
