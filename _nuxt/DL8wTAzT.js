import{c,o as i,a as s,G as g,t as u,H as b,B as y,x as k,i as D,u as $,b as w,w as S,A as o,C as p,d as v,F as A,f as B,e as L,E as N}from"./C0qTCj9D.js";import{f as V}from"./CQ8NpSs7.js";const j={class:"relative"},C={class:"relative z-10 px-3 py-2 text-sm text-white font-medium"},T={__name:"DistanceBar",props:{distance:{type:Object,required:!0}},setup(m){return(x,_)=>(i(),c("div",j,[s("div",{class:"absolute inset-0 bg-[#0057A0] rounded",style:g({width:`${m.distance.barWidth}%`})},null,4),s("div",C,u(m.distance.text),1)]))}},E={class:"max-w-4xl mx-auto px-4 py-8"},F={key:0},M={class:"text-3xl text-center text-[#0057A0] mb-8"},z={class:"bg-[#f4f4f4] border-l-4 border-[#0057A0] p-6 rounded"},H={class:"space-y-4"},W={key:0},q={class:"mt-2"},G={key:1},O={class:"mt-4 space-y-2"},R={key:2,class:"mt-12 text-center"},I=["href"],J={key:1,class:"text-center text-lg"},Q={__name:"[id]",setup(m){const x=V,_=b(),e=y(null),f=n=>{const t=n.toLowerCase();if(t.includes("marathon")&&!t.includes("half"))return 42.195;if(t.includes("half")||t.includes("ημιμαραθώνιος"))return 21.1;const r=t.match(/(\d+(?:\.\d+)?)/);if(r){const l=parseFloat(r[1]);return l>100?l/1e3:l}return 0},h=k(()=>{var r,l;if(!((l=(r=e.value)==null?void 0:r.Distances)!=null&&l.length))return[];const n=e.value.Distances.map(a=>({text:a,value:f(a)})).sort((a,d)=>a.value-d.value),t=Math.max(...n.map(a=>a.value));return n.map(a=>({...a,barWidth:Math.max(10,a.value/t*100)}))});return D(async()=>{try{const t=await(await fetch("/min.races.json")).json();e.value=t.find(r=>r.Slug===_.params.id||r.Slug===`${_.params.id}/`)}catch(n){console.error("Error loading race:",n)}}),$(()=>{var n,t;return{title:e.value?`${e.value.Title} | racelist.gr`:"Αγώνας | racelist.gr",link:[(n=e.value)!=null&&n.Slug?{rel:"canonical",href:`https://racelist.gr/agwnas/${e.value.Slug}`}:{}],meta:[{name:"description",content:e.value?`${e.value.Title} στις ${e.value.Date} στην τοποθεσία ${e.value.Location}. ${(t=e.value.Distances)==null?void 0:t.join(", ")}`:"Λεπτομέρειες αγώνα δρόμου"}]}}),(n,t)=>{var a;const r=L,l=T;return i(),c("div",E,[w(r,{to:"/",class:"inline-block mb-6 text-[#0057A0] hover:underline"},{default:S(()=>t[0]||(t[0]=[v(" ← Επιστροφή στην αρχική ")])),_:1,__:[0]}),o(e)?(i(),c("div",F,[s("h1",M,u(o(e).Title),1),s("div",z,[s("div",H,[s("div",null,[t[1]||(t[1]=s("span",{class:"font-semibold"},"Ημερομηνία:",-1)),v(" "+u(o(x)(o(e).Date)),1)]),s("div",null,[t[2]||(t[2]=s("span",{class:"font-semibold"},"Τοποθεσία:",-1)),v(" "+u(o(e).Location),1)]),o(e).Description?(i(),c("div",W,[t[3]||(t[3]=s("span",{class:"font-semibold"},"Περιγραφή",-1)),s("p",q,u(o(e).Description),1)])):p("",!0),(a=o(e).Distances)!=null&&a.length?(i(),c("div",G,[t[4]||(t[4]=s("span",{class:"font-semibold text-xl"},"Αποστάσεις",-1)),s("div",O,[(i(!0),c(A,null,B(o(h),d=>(i(),N(l,{key:d.text,distance:d},null,8,["distance"]))),128))])])):p("",!0),o(e).SignupLink?(i(),c("div",R,[s("a",{href:`${o(e).SignupLink}?utm_source=racelist.gr`,class:"inline-block bg-[#0057A0] text-white px-6 py-2 rounded hover:bg-[#0057A0]/90 transition-colors",target:"_blank"}," Εγγραφή στον αγώνα ",8,I)])):p("",!0)])])])):(i(),c("div",J,"Ο αγώνας δεν βρέθηκε"))])}}};export{Q as default};
